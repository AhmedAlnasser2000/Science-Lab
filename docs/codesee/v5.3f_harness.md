# Code See V5.3f Harness (Crash Instigator)

This harness is a temporary verification tool to exercise Code See end-to-end:
spans, EVA mismatches, crash records, and inventory changes.

## Enable

Set an explicit environment flag before launching the app:

```
set PHYSICSLAB_CODESEE_HARNESS=1
python -m app_ui.main
```

When enabled, Code See shows a “Harness” menu under “More”.

## Actions

- Emit test activity
  - Emits a span + activity event + pulse along a known path.
- Emit EVA mismatch
  - Writes a mismatch check to a target node (prefers `system:content_system`).
- Write fake crash record
  - Writes a synthetic crash record under the current workspace for Safe Viewer testing.
- Toggle fake pack
  - Injects a temporary “Harness Pack” into Atlas to test added/removed diffs.

## Notes

- All changes are gated behind `PHYSICSLAB_CODESEE_HARNESS=1`.
- No destructive actions are performed.
- Crash records are written to `data/workspaces/<id>/codesee/crash/` (already ignored by git).
- Disable by unsetting the env var or removing `app_ui/codesee/harness.py`
  and the harness menu wiring in `app_ui/codesee/screen.py`.
